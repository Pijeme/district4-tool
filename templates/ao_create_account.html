{% extends "base.html" %}
{% block title %}Create Pastor Account - Area Overseer's Tool{% endblock %}

{% block content %}
<section class="card">
  <h2>Create Pastor Account</h2>
  <p class="muted small">
    Fill out the details below. A simple username and password will be generated automatically.
  </p>

  <a href="{{ url_for('ao_tool') }}" class="btn-secondary back-btn">‚Üê Back to Area Overseer's Tool</a>

  {% if error %}
    <div class="alert alert-error">
      {{ error }}
    </div>
  {% endif %}

  {% if success %}
    <div class="alert" style="background:#ecfdf5; color:#166534; border:1px solid #bbf7d0;">
      {{ success }}<br>
      <strong>Username:</strong> {{ generated_username }}<br>
      <strong>Password:</strong> {{ generated_password }}
    </div>
  {% endif %}

  <form method="post" class="form-vertical">
    <div class="field-group">
      <label for="full_name">Pastor's Full Name</label>
      <input type="text" id="full_name" name="full_name" value="{{ values.full_name }}">
    </div>

    <div class="field-group">
      <label for="age">Age</label>
      <input type="number" id="age" name="age" value="{{ values.age }}">
    </div>

    <div class="field-group">
      <label for="sex">Sex</label>
      <input type="text" id="sex" name="sex" value="{{ values.sex }}">
    </div>

    <div class="field-group">
      <label for="church_address">Church Address</label>
      <textarea id="church_address" name="church_address" rows="2">{{ values.church_address }}</textarea>
    </div>

    <div class="field-group">
      <label for="contact_number">Contact Number</label>
      <input type="text" id="contact_number" name="contact_number" value="{{ values.contact_number }}">
    </div>

    <button type="submit" class="btn-primary">Create Account</button>
  </form>

  <p class="muted small" style="margin-top:0.75rem;">
    The generated username is simple (usually the pastor's first name) and the password is based on name + age, to make it easy to remember.
  </p>
</section>
{% endblock %}
